<div class="ticket-container">
  <div class="ticket">
    <!-- Header -->
    <div class="ticket-header">
      <h1>{{ ticketData.enterprise.name }}</h1>
      <p>{{ ticketData.enterprise.address }}</p>
      <p>{{ ticketData.enterprise.city }}</p>
      <p>Tel: {{ ticketData.enterprise.phone }}</p>
      <p>CIF: {{ ticketData.enterprise.cif }}</p>
    </div>

    <div class="separator">==========================================</div>

    <!-- Ticket Info -->
    <div class="ticket-info">
      <p><strong>Ticket:</strong> {{ ticketData.ticket.number }}</p>
      <p><strong>Fecha:</strong> {{ ticketData.ticket.date | date:'dd/MM/yyyy HH:mm' }}</p>
      <p><strong>Mesa:</strong> {{ ticketData.ticket.table }}</p>
      <p><strong>Camarero:</strong> {{ ticketData.ticket.waiter }}</p>
    </div>

    <div class="separator">==========================================</div>

    <!-- Items -->
    <div class="ticket-items">
      <table>
        <thead>
          <tr>
            <th class="text-left">Producto</th>
            <th class="text-center">Cant.</th>
            <th class="text-right">Precio</th>
            <th class="text-right">Total</th>
          </tr>
        </thead>
        <tbody>
          @for (item of ticketData.items; track item.name) {
            <tr>
              <td class="text-left">{{ item.name }}</td>
              <td class="text-center">{{ item.quantity }}</td>
              <td class="text-right">{{ item.price | number:'1.2-2' }}€</td>
              <td class="text-right">{{ item.total | number:'1.2-2' }}€</td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <div class="separator">==========================================</div>

    <!-- Totals -->
    <div class="ticket-totals">
      <div class="total-row">
        <span>Subtotal:</span>
        <span>{{ ticketData.payment.subtotal | number:'1.2-2' }}€</span>
      </div>
      <div class="total-row">
        <span>IVA ({{ ticketData.payment.iva }}%):</span>
        <span>{{ ticketData.payment.ivaAmount | number:'1.2-2' }}€</span>
      </div>
      <div class="total-row total-final">
        <span><strong>TOTAL:</strong></span>
        <span><strong>{{ ticketData.payment.total | number:'1.2-2' }}€</strong></span>
      </div>
    </div>

    <div class="separator">==========================================</div>

    <!-- Footer -->
    <div class="ticket-footer">
      <p>¡Gracias por su visita!</p>
      <p>Vuelva pronto</p>
    </div>
  </div>

  <!-- Print Button -->
  <div class="print-button-container no-print">
    <p-button 
      label="Imprimir Ticket" 
      icon="pi pi-print" 
      (onClick)="printTicket()"
      severity="success">
    </p-button>
  </div>
</div>
